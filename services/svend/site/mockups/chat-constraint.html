<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svend - Constraint Satisfaction</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #0a0f0a;
            --bg-secondary: #0d120d;
            --bg-tertiary: #121a12;
            --bg-hover: #1a261a;
            --accent-primary: #4a9f6e;
            --accent-primary-dim: rgba(74, 159, 110, 0.15);
            --accent-primary-border: rgba(74, 159, 110, 0.3);
            --accent-blue: #3a7f8f;
            --accent-purple: #5a4f7f;
            --accent-gold: #e8c547;
            --accent-orange: #e89547;
            --accent-red: #9f4a4a;
            --text-primary: #e8efe8;
            --text-secondary: #9aaa9a;
            --text-dim: #5a6a5a;
            --tool-csp: #5a4f7f;
            --tool-python: #4a9f6e;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
        }

        .katex { font-size: 1.1em; color: var(--text-primary); }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-secondary);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar-header {
            padding: 1.25rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .logo { display: flex; align-items: center; gap: 0.5rem; font-size: 1.1rem; font-weight: 300; letter-spacing: 0.3em; }
        .logo-icon { width: 1.25rem; height: 1.25rem; flex-shrink: 0; }
        .logo-icon svg { width: 100%; height: 100%; fill: none; stroke: var(--text-primary); stroke-width: 20; }

        .new-chat-btn {
            width: 100%;
            padding: 0.75rem 1rem;
            margin-top: 1rem;
            background: var(--accent-primary-dim);
            border: 1px solid var(--accent-primary-border);
            border-radius: 4px;
            color: var(--accent-primary);
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
        }

        .chat-history { flex: 1; overflow-y: auto; padding: 0.5rem; }

        .chat-history-item {
            padding: 0.75rem 1rem;
            border-radius: 4px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            cursor: pointer;
            margin-bottom: 0.25rem;
        }

        .chat-history-item:hover { background: var(--bg-hover); color: var(--text-primary); }
        .chat-history-item.active { background: var(--accent-primary-dim); color: var(--text-primary); }

        .sidebar-footer {
            padding: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .user-info { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; }

        .user-avatar {
            width: 32px; height: 32px; border-radius: 50%;
            background: var(--accent-primary-dim);
            border: 1px solid var(--accent-primary-border);
            display: flex; align-items: center; justify-content: center;
            font-size: 0.8rem; color: var(--accent-primary);
        }

        .user-name { font-size: 0.85rem; }
        .user-tier { font-size: 0.7rem; color: var(--text-dim); }

        /* Main */
        .main { flex: 1; display: flex; flex-direction: column; min-width: 0; }

        .chat-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .chat-title { font-size: 0.9rem; font-weight: 400; }

        .messages {
            flex: 1; overflow-y: auto; padding: 1.5rem;
            display: flex; flex-direction: column; gap: 2rem;
        }

        .message { max-width: 900px; width: 100%; margin: 0 auto; }

        .message-user { display: flex; justify-content: flex-end; }

        .message-user .message-content {
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px 12px 4px 12px;
            padding: 1rem 1.25rem;
            max-width: 70%;
        }

        .message-assistant { display: flex; flex-direction: column; gap: 1rem; }

        .message-header { display: flex; align-items: center; gap: 0.5rem; }

        .assistant-icon {
            width: 24px; height: 24px; border-radius: 4px;
            background: var(--accent-primary-dim);
            border: 1px solid var(--accent-primary-border);
            display: flex; align-items: center; justify-content: center;
            font-size: 0.7rem;
        }

        .assistant-name { font-size: 0.8rem; font-weight: 500; color: var(--text-secondary); }

        /* Reasoning Panel - CSP themed */
        .reasoning-panel {
            background: var(--bg-secondary);
            border: 1px solid rgba(90, 79, 127, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        .reasoning-header {
            padding: 0.75rem 1rem;
            background: rgba(90, 79, 127, 0.08);
            border-bottom: 1px solid rgba(90, 79, 127, 0.15);
            display: flex; align-items: center; justify-content: space-between;
            cursor: pointer;
        }

        .reasoning-title {
            display: flex; align-items: center; gap: 0.5rem;
            font-size: 0.75rem; font-weight: 500;
            text-transform: uppercase; letter-spacing: 0.1em;
            color: var(--tool-csp);
        }

        .reasoning-meta {
            display: flex; align-items: center; gap: 1rem;
            font-size: 0.75rem; color: var(--text-dim);
        }

        .reasoning-steps { padding: 1.25rem; }

        .step { display: flex; gap: 0.75rem; margin-bottom: 1.25rem; }
        .step:last-child { margin-bottom: 0; }

        .step-indicator { display: flex; flex-direction: column; align-items: center; }

        .step-number {
            width: 22px; height: 22px; border-radius: 50%;
            background: rgba(90, 79, 127, 0.15);
            border: 1px solid rgba(90, 79, 127, 0.3);
            display: flex; align-items: center; justify-content: center;
            font-size: 0.65rem; font-weight: 500; color: var(--tool-csp);
        }

        .step-line {
            flex: 1; width: 1px;
            background: rgba(90, 79, 127, 0.2);
            min-height: 30px;
        }

        .step-content { flex: 1; padding-bottom: 0.5rem; }

        .step-label {
            font-size: 0.7rem; font-weight: 500;
            text-transform: uppercase; letter-spacing: 0.05em;
            color: var(--text-dim); margin-bottom: 0.5rem;
        }

        .step-text {
            font-size: 0.9rem; color: var(--text-secondary); line-height: 1.7;
        }

        /* Constraint display */
        .constraint-list {
            background: var(--bg-primary);
            border: 1px solid rgba(90, 79, 127, 0.2);
            border-radius: 6px;
            padding: 1rem;
            margin: 0.75rem 0;
        }

        .constraint-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(90, 79, 127, 0.1);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

        .constraint-item:last-child { border-bottom: none; }

        .constraint-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            flex-shrink: 0;
        }

        .constraint-icon.sat {
            background: rgba(74, 159, 110, 0.15);
            color: var(--accent-primary);
        }

        .constraint-icon.unsat {
            background: rgba(159, 74, 74, 0.15);
            color: var(--accent-red);
        }

        .constraint-icon.conflict {
            background: rgba(232, 149, 71, 0.15);
            color: var(--accent-orange);
        }

        .constraint-var { color: var(--accent-gold); }
        .constraint-op { color: var(--tool-csp); }
        .constraint-val { color: var(--text-primary); }

        /* Schedule Grid */
        .schedule-grid {
            display: grid;
            grid-template-columns: auto repeat(5, 1fr);
            gap: 2px;
            background: rgba(90, 79, 127, 0.2);
            border-radius: 6px;
            overflow: hidden;
            margin: 1rem 0;
            font-size: 0.8rem;
        }

        .schedule-cell {
            background: var(--bg-primary);
            padding: 0.5rem 0.75rem;
            text-align: center;
        }

        .schedule-header {
            background: rgba(90, 79, 127, 0.1);
            color: var(--tool-csp);
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 0.05em;
        }

        .schedule-time {
            background: rgba(90, 79, 127, 0.05);
            color: var(--text-dim);
            font-family: 'JetBrains Mono', monospace;
        }

        .schedule-conflict {
            background: rgba(159, 74, 74, 0.15);
            color: var(--accent-red);
        }

        .schedule-assigned {
            color: var(--accent-gold);
        }

        /* Tool Call */
        .tool-call {
            background: var(--bg-primary);
            border: 1px solid rgba(90, 79, 127, 0.25);
            border-radius: 6px;
            margin: 0.75rem 0;
            overflow: hidden;
        }

        .tool-call-header {
            padding: 0.5rem 0.75rem;
            background: rgba(90, 79, 127, 0.1);
            border-bottom: 1px solid rgba(90, 79, 127, 0.15);
            display: flex; align-items: center; gap: 0.5rem;
        }

        .tool-badge {
            padding: 0.2rem 0.5rem; border-radius: 3px;
            font-size: 0.65rem; font-weight: 500;
            text-transform: uppercase; letter-spacing: 0.05em;
        }

        .tool-badge--csp {
            background: rgba(90, 79, 127, 0.2);
            color: var(--tool-csp);
        }

        .tool-call-name { font-size: 0.75rem; color: var(--text-dim); }

        .tool-call-body { padding: 0.75rem; }

        .code-block {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem; line-height: 1.5;
            color: var(--text-primary); white-space: pre-wrap;
        }

        .tool-call-result {
            padding: 0.75rem;
            background: rgba(90, 79, 127, 0.08);
            border-top: 1px solid rgba(90, 79, 127, 0.1);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

        .tool-call-result.unsat {
            color: var(--accent-orange);
        }

        .tool-call-result.sat {
            color: var(--accent-primary);
        }

        /* Verdict box */
        .verdict-box {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .verdict-box.unsat {
            background: rgba(232, 149, 71, 0.1);
            border: 1px solid rgba(232, 149, 71, 0.3);
        }

        .verdict-box.sat {
            background: rgba(74, 159, 110, 0.1);
            border: 1px solid rgba(74, 159, 110, 0.3);
        }

        .verdict-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .verdict-box.unsat .verdict-icon {
            background: rgba(232, 149, 71, 0.2);
            color: var(--accent-orange);
        }

        .verdict-box.sat .verdict-icon {
            background: rgba(74, 159, 110, 0.2);
            color: var(--accent-primary);
        }

        .verdict-text h4 {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .verdict-box.unsat .verdict-text h4 { color: var(--accent-orange); }
        .verdict-box.sat .verdict-text h4 { color: var(--accent-primary); }

        .verdict-text p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Final Answer */
        .final-answer {
            padding: 1.25rem 1.5rem;
            background: var(--bg-tertiary);
            border: 1px solid rgba(232, 149, 71, 0.2);
            border-radius: 8px;
        }

        .final-answer-label {
            font-size: 0.7rem; font-weight: 500;
            text-transform: uppercase; letter-spacing: 0.1em;
            color: var(--accent-orange);
            margin-bottom: 1rem;
            display: flex; align-items: center; gap: 0.5rem;
        }

        .final-answer-text {
            font-size: 1rem; line-height: 1.8; color: var(--text-primary);
        }

        .answer-box {
            display: inline-block;
            padding: 0.75rem 1.25rem;
            background: rgba(232, 149, 71, 0.08);
            border: 1px solid rgba(232, 149, 71, 0.2);
            border-radius: 6px;
            margin-top: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .verified-badge {
            display: inline-flex; align-items: center; gap: 0.25rem;
            padding: 0.15rem 0.4rem; background: rgba(74, 159, 110, 0.15);
            border-radius: 3px; font-size: 0.65rem; color: var(--accent-primary);
        }

        /* Input Area */
        .input-area {
            padding: 1rem 1.5rem 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .input-container { max-width: 900px; margin: 0 auto; position: relative; }

        .input-box {
            width: 100%; padding: 1rem 1.25rem; padding-right: 100px;
            background: var(--bg-secondary);
            border: 1px solid rgba(74, 159, 110, 0.2);
            border-radius: 8px; color: var(--text-primary);
            font-family: inherit; font-size: 0.95rem;
            resize: none; outline: none; min-height: 56px;
        }

        .input-box::placeholder { color: var(--text-dim); }
        .input-box:focus { border-color: rgba(74, 159, 110, 0.4); }

        .input-actions { position: absolute; right: 0.75rem; bottom: 0.75rem; }

        .send-btn {
            padding: 0.5rem 1rem; background: var(--accent-primary);
            border: none; border-radius: 4px; color: var(--bg-primary);
            font-family: inherit; font-size: 0.85rem; font-weight: 500;
            cursor: pointer;
        }

        .send-btn:hover { background: #5ab87e; }

        .input-hint {
            text-align: center; margin-top: 0.75rem;
            font-size: 0.75rem; color: var(--text-dim);
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 3px; }

        @media (max-width: 900px) { .sidebar { display: none; } }
    </style>
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo"><span class="logo-icon"><svg viewBox="590 180 400 680" xmlns="http://www.w3.org/2000/svg"><path d="m 810.34961,183.98438 c -8.00929,0.28308 -15.5701,3.48413 -22.48495,7.32376 -12.87788,7.1817 -24.40922,16.65459 -37.84868,22.84732 -4.31757,2.08674 -9.12821,2.91574 -13.3771,5.16756 -7.15857,3.4834 -13.4768,8.9205 -17.4074,15.89893 -4.63628,8.03202 -6.3024,17.46727 -6.06699,26.65644 0.0985,4.79617 0.75632,9.56171 1.64764,14.269 0.0476,1.43947 -0.58472,2.80552 -0.6551,4.24336 -0.75319,5.38879 0.11601,11.14811 3.19493,15.71841 3.74987,5.93489 9.53028,10.16542 15.27939,14.00871 10.15322,6.72796 21.26277,12.12274 30.43779,20.24424 0.72261,0.57357 1.06428,1.45781 1.01481,2.36706 0.25419,10.62114 0.26429,21.24817 0.15168,31.87217 -0.10997,9.76491 -0.23395,19.53062 -0.32352,29.29514 -0.2559,2.18138 -2.48681,3.93272 -4.67536,3.50098 -1.73761,-0.32579 -2.97662,-1.73361 -4.40792,-2.66331 -35.6616,-26.03244 -71.15984,-52.30412 -107.51397,-77.36576 -1.79592,-1.18526 -3.52006,-2.4953 -5.36053,-3.6031 -2.38777,-1.13215 -5.02429,-1.65761 -7.63204,-1.97563 -6.86268,-0.69881 -13.69347,1.24508 -19.88444,4.07709 -9.03352,4.05728 -17.18145,9.7518 -25.58752,14.92132 -3.36838,2.10086 -6.87005,4.24739 -10.41869,6.1631 -0.99569,0.52942 -2.22,1.17581 -3.31848,1.71944 -4.07079,2.03607 -8.31873,3.71411 -12.69879,4.95454 -4.02638,1.19323 -7.8786,3.2257 -10.74869,6.34031 -2.96251,3.09048 -4.72915,7.11427 -5.71781,11.23537 -1.55545,6.40335 -1.57897,13.05115 -1.41863,19.6009 0.26795,9.17433 1.23843,18.2732 1.00241,27.46227 0.0207,3.42545 -1.03941,6.75735 -0.90681,10.1895 0.001,5.08446 1.56132,10.25252 4.8747,14.1707 4.43736,5.53069 10.76398,9.06598 17.04291,12.11545 11.82295,5.71965 24.58514,9.32817 36.12161,15.66465 2.63761,1.56679 5.14743,3.4485 8.1405,4.29671 4.09389,1.33597 8.5369,1.2958 12.69456,0.26955 7.31277,-1.64267 13.9237,-5.32376 20.51953,-8.74387 4.35604,-2.28907 8.66919,-4.70056 13.22314,-6.57805 2.19027,-0.44436 4.29633,0.48096 6.39883,0.88652 1.12616,0.30405 2.24944,0.63792 3.42471,1.02929 9.89759,3.32419 18.80495,8.95253 27.35797,14.83159 9.60214,6.67635 18.83584,13.8873 28.67442,20.21701 1.81523,1.44232 2.01025,4.45281 0.29511,6.05269 -1.18127,1.12727 -2.69962,1.81802 -4.02559,2.7576 -20.09966,13.11068 -40.67378,25.47586 -60.8399,38.48291 -9.96369,-3.64417 -18.76816,-9.70519 -28.31054,-14.23828 -5.34352,-2.47216 -11.27535,-4.34129 -17.22237,-3.5115 -2.23037,0.31113 -4.43888,1.00335 -6.29472,2.30511 -9.41413,5.6132 -20.00552,8.69886 -30.20947,12.5061 -7.8109,2.84323 -15.72475,5.92179 -22.32775,11.09558 -4.14348,3.33658 -7.40401,8.02695 -8.19394,13.36751 -0.75011,4.4178 0.0808,8.89125 -0.11393,13.33558 -0.0446,2.47431 -0.1663,4.78571 -0.33618,7.26123 -0.7016,9.88267 -2.18914,19.87652 -1.92566,29.86437 0.15833,5.61102 0.98818,11.38546 3.72433,16.36565 2.44787,4.28244 6.64099,7.37128 11.27534,8.93309 2.96165,1.01936 5.95313,1.9621 8.82273,3.22974 16.61941,6.96981 31.54004,17.40843 48.2906,24.09353 8.35504,3.30306 17.3626,5.41067 26.39188,4.73995 1.59654,-0.65955 2.95687,-1.7592 4.46121,-2.59492 34.97252,-21.48909 67.36925,-46.77662 100.70996,-70.64113 2.40223,-1.72533 4.80662,-3.4479 7.20969,-5.17216 3.12283,0.94464 6.45003,2.34189 8.1566,5.30326 2.63181,4.23393 2.95848,9.37168 3.10974,14.22553 0.0833,3.31727 0.004,6.60823 -0.11791,9.87356 -0.21995,6.79385 -0.7923,13.61211 -0.125,20.39843 0.20259,2.16638 0.20474,4.521 -0.33146,6.70372 -1.0519,4.92922 -3.98913,9.33555 -7.88721,12.48684 -4.60501,3.92369 -10.18337,6.53657 -15.54322,9.09565 -5.27007,2.60362 -10.87123,4.82949 -15.34311,8.75008 -3.14872,2.8351 -5.29862,6.60832 -6.92578,10.47774 -3.38575,8.39922 -4.00047,17.60263 -3.79623,26.56693 0.33468,12.34083 2.50879,24.53129 4.78404,36.63584 23.29475,15.98048 48.86901,28.22319 74.1637,40.59903 3.68993,1.78904 7.35713,3.65372 11.08044,5.36581 1.3382,0.36422 2.72081,0.68421 4.08264,0.85588 14.97883,-4.04776 28.84434,-11.24143 42.34205,-18.73961 11.53711,-6.35617 22.86975,-13.13079 34.83628,-18.66637 4.22894,-1.55707 8.44379,-3.61358 11.45999,-7.06209 4.09602,-4.4785 5.93166,-10.51995 6.66278,-16.43202 0.92354,-7.35214 0.49188,-14.78778 -0.0139,-22.15442 -0.67411,-9.31054 -1.67798,-18.63084 -1.29362,-27.9791 -5.24479,-6.86889 -12.45843,-11.86973 -19.80582,-16.25267 -5.70939,-3.42205 -11.57773,-6.5755 -17.2495,-9.97521 -3.48793,-2.1042 -6.91214,-4.29698 -10.24384,-6.71085 -0.72961,-0.25274 -0.3909,-1.04781 -0.45847,-1.63664 0.10339,-17.34117 -0.25832,-34.68823 0.31622,-52.02424 0.0871,-2.86433 0.24803,-5.86427 0.35547,-8.77734 0.24524,-1.51291 0.97602,-2.92863 1.82743,-4.17922 1.01119,-0.96492 2.69388,-0.72675 3.64269,0.20957 13.7572,9.30561 27.45185,18.70282 41.06504,28.21769 14.32134,10.01422 28.62533,20.04233 42.89178,30.13048 9.85111,7.13736 19.42479,14.89572 30.55621,19.99718 6.32797,2.8654 13.46903,4.59642 20.40357,3.28445 5.01892,-0.91491 9.51952,-3.53842 13.56592,-6.54339 4.1904,-2.64327 8.6938,-4.74592 13.1878,-6.81289 12.49,-5.62316 25.6326,-9.85522 37.5685,-16.66375 6.6826,-3.86072 12.9614,-8.79041 17.159,-15.36138 0.077,-0.98215 -0.1432,-2.04092 -0.1765,-3.05218 -1.0891,-15.56938 0.8661,-31.18693 -0.42,-46.74805 -0.6817,-7.73457 -2.3041,-15.61186 -6.4028,-22.31119 -0.698,-1.07942 -1.3987,-2.21543 -2.2632,-3.14351 -6.5959,-2.34922 -12.9212,-5.37852 -19.1484,-8.56287 -8.7431,-4.45721 -17.485,-9.32684 -26.689,-12.95173 -7.9225,-3.0727 -16.4727,-5.18735 -25.01999,-4.27874 -0.69625,0.0946 -1.45907,0.031 -1.9507,0.62492 -1.86973,1.50356 -4.00206,2.99524 -5.93993,4.18562 -3.11255,1.91641 -6.61385,3.63178 -10.16309,4.85819 -5.17482,1.81524 -10.69246,2.62925 -16.17089,2.39377 -0.76721,-0.0353 -1.83478,-0.10813 -2.71485,-0.19727 -8.76802,-0.87792 -17.09685,-4.23876 -24.66465,-8.63987 -6.70946,-3.87704 -12.94638,-8.62728 -18.84121,-13.55739 -5.3555,-2.04179 -10.86973,-4.46433 -14.67498,-8.91892 -2.71108,-3.28176 -3.6238,-8.13451 -1.72969,-12.03365 1.92136,-4.4162 5.87455,-7.47217 9.75916,-10.09482 7.41881,-4.95593 15.60058,-8.5845 23.40489,-12.86517 3.87755,-2.08906 7.78444,-4.23221 11.15815,-7.08878 2.01088,-1.89507 3.89167,-4.04315 6.46834,-5.18776 3.79471,-1.90744 8.31932,-2.18549 12.35001,-0.87941 6.3308,1.82617 11.47084,6.14955 17.28242,9.06683 1.89042,0.93426 3.95479,1.46325 5.78158,2.52681 6.71632,3.31352 14.54253,4.15556 21.85253,2.61957 9.4786,-1.84944 18.1485,-6.35056 26.5334,-10.96985 11.3346,-6.30144 22.2737,-13.46349 34.3962,-18.21392 4.2955,-10.61758 5.7235,-22.14012 6.0312,-33.51651 0.3858,-15.15412 -1.1682,-30.25794 -2.2616,-45.35263 -12.3858,-9.88221 -26.6329,-16.99787 -40.689,-24.14553 -9.5,-4.83571 -19.0575,-9.61979 -28.0582,-15.35042 -6.12007,-4.66644 -14.05816,-6.41988 -21.64672,-5.96219 -1.19198,-0.0473 -2.37843,0.32604 -3.2616,1.13778 -38.22332,26.10576 -75.04874,54.16648 -112.57695,81.24614 -2.71304,0.6413 -5.49842,-0.66111 -7.54085,-2.3846 -2.98399,-2.60674 -4.29719,-6.57185 -4.74676,-10.40275 -0.82369,-5.94443 -0.34169,-11.84447 -0.0213,-17.79103 0.33714,-6.47411 1.01497,-12.99967 0.0809,-19.45673 -0.74071,-5.92858 1.52712,-12.06105 5.76034,-16.24201 4.84104,-4.96478 11.25754,-7.86952 17.35846,-10.94667 3.99683,-2.00052 8.09479,-3.99903 11.43912,-7.01665 0.99698,-0.95764 1.86712,-2.07596 3.12921,-2.70104 5.52795,-3.56549 9.52876,-9.28516 11.25959,-15.60778 2.32363,-7.95342 2.23731,-16.36205 1.6583,-24.55425 -0.85794,-10.76518 -2.81251,-21.40013 -4.13281,-32.11133 -21.60154,-15.33596 -45.2301,-27.50365 -68.56022,-39.89174 -5.52038,-2.93006 -11.02072,-5.90598 -16.52315,-8.86385 -2.21137,-0.75553 -4.61644,-0.71584 -6.9264,-0.73464 z"/></svg></span>SVEND</div>
            <button class="new-chat-btn">+ New Chat</button>
        </div>
        <div class="chat-history">
            <div class="chat-history-item active">Meeting schedule</div>
            <div class="chat-history-item">Resource allocation</div>
            <div class="chat-history-item">Seating arrangement</div>
            <div class="chat-history-item">Shift planning</div>
            <div class="chat-history-item">Task dependencies</div>
        </div>
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">EW</div>
                <div>
                    <div class="user-name">eric.wolters@svend.ai</div>
                    <div class="user-tier">Beta Access</div>
                </div>
            </div>
        </div>
    </aside>

    <main class="main">
        <header class="chat-header">
            <div class="chat-title">Meeting schedule</div>
        </header>

        <div class="messages">
            <!-- User Message -->
            <div class="message message-user">
                <div class="message-content">
                    Can you schedule 4 one-hour meetings (A, B, C, D) between 9am-12pm with these constraints?
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-secondary);">
                        <li>A must be before B</li>
                        <li>C and D cannot overlap</li>
                        <li>B and C must be at the same time</li>
                        <li>A cannot be at 11am</li>
                    </ul>
                </div>
            </div>

            <!-- Assistant Response -->
            <div class="message message-assistant">
                <div class="message-header">
                    <div class="assistant-icon">S</div>
                    <span class="assistant-name">Svend</span>
                </div>

                <div class="reasoning-panel">
                    <div class="reasoning-header">
                        <div class="reasoning-title">
                            <span>&#9670;</span> Reasoning
                        </div>
                        <div class="reasoning-meta">
                            <span>3 steps</span>
                            <span>1 tool call</span>
                            <span style="color: var(--accent-orange);">&#10005; Unsatisfiable</span>
                        </div>
                    </div>

                    <div class="reasoning-steps">
                        <div class="step">
                            <div class="step-indicator">
                                <div class="step-number">1</div>
                                <div class="step-line"></div>
                            </div>
                            <div class="step-content">
                                <div class="step-label">Extract Constraints</div>
                                <div class="step-text">
                                    Let me formalize these constraints:
                                </div>
                                <div class="constraint-list">
                                    <div class="constraint-item">
                                        <div class="constraint-icon sat">1</div>
                                        <span><span class="constraint-var">A</span> <span class="constraint-op">&lt;</span> <span class="constraint-var">B</span></span>
                                        <span style="margin-left: auto; color: var(--text-dim); font-size: 0.75rem;">ordering</span>
                                    </div>
                                    <div class="constraint-item">
                                        <div class="constraint-icon sat">2</div>
                                        <span><span class="constraint-var">C</span> <span class="constraint-op">&#8800;</span> <span class="constraint-var">D</span></span>
                                        <span style="margin-left: auto; color: var(--text-dim); font-size: 0.75rem;">no overlap</span>
                                    </div>
                                    <div class="constraint-item">
                                        <div class="constraint-icon conflict">3</div>
                                        <span><span class="constraint-var">B</span> <span class="constraint-op">=</span> <span class="constraint-var">C</span></span>
                                        <span style="margin-left: auto; color: var(--text-dim); font-size: 0.75rem;">same time</span>
                                    </div>
                                    <div class="constraint-item">
                                        <div class="constraint-icon sat">4</div>
                                        <span><span class="constraint-var">A</span> <span class="constraint-op">&#8800;</span> <span class="constraint-val">11</span></span>
                                        <span style="margin-left: auto; color: var(--text-dim); font-size: 0.75rem;">exclusion</span>
                                    </div>
                                    <div class="constraint-item">
                                        <div class="constraint-icon sat">&#8704;</div>
                                        <span><span class="constraint-var">A,B,C,D</span> <span class="constraint-op">&#8712;</span> <span class="constraint-val">{9, 10, 11}</span></span>
                                        <span style="margin-left: auto; color: var(--text-dim); font-size: 0.75rem;">domain</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step">
                            <div class="step-indicator">
                                <div class="step-number">2</div>
                                <div class="step-line"></div>
                            </div>
                            <div class="step-content">
                                <div class="step-label">Solve CSP</div>
                                <div class="tool-call">
                                    <div class="tool-call-header">
                                        <span class="tool-badge tool-badge--csp">CSP Solver</span>
                                        <span class="tool-call-name">check_feasibility</span>
                                    </div>
                                    <div class="tool-call-body">
                                        <code class="code-block">from tools import ConstraintSolver

csp = ConstraintSolver()

# Variables: A, B, C, D with domain {9, 10, 11}
for var in ['A', 'B', 'C', 'D']:
    csp.add_variable(var, domain=[9, 10, 11])

# Constraints
csp.add_constraint('A', '<', 'B')    # A before B
csp.add_constraint('C', '!=', 'D')   # C and D no overlap
csp.add_constraint('B', '==', 'C')   # B same time as C
csp.add_constraint('A', '!=', 11)    # A not at 11

result = csp.solve()</code>
                                    </div>
                                    <div class="tool-call-result unsat">
UNSAT - No valid assignment exists

Conflict analysis:
  - A < B implies B >= 10
  - B = C implies C >= 10
  - C != D and C in {10, 11} means D must differ
  - But with 4 meetings in 3 slots, pigeonhole conflict</div>
                                </div>
                            </div>
                        </div>

                        <div class="step">
                            <div class="step-indicator">
                                <div class="step-number">3</div>
                            </div>
                            <div class="step-content">
                                <div class="step-label">Analyze Conflict</div>
                                <div class="step-text">
                                    The constraints are <strong>mutually unsatisfiable</strong>. Here's why:
                                </div>
                                <div class="verdict-box unsat">
                                    <div class="verdict-icon">&#10005;</div>
                                    <div class="verdict-text">
                                        <h4>Proven Impossible</h4>
                                        <p>Core conflict: B=C (same slot) but C&#8800;D (different slots), with only 3 slots for 4 meetings.</p>
                                    </div>
                                </div>
                                <div class="step-text" style="margin-top: 1rem;">
                                    <strong>Proof by contradiction:</strong>
                                    <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-secondary);">
                                        <li>B = C means B and C share a slot (2 meetings, 1 slot)</li>
                                        <li>C &#8800; D means D needs a different slot</li>
                                        <li>A &lt; B means A needs a slot before B</li>
                                        <li>With A &#8800; 11: A &#8712; {9, 10}</li>
                                        <li>If A=9: B&#8805;10, so B=C&#8712;{10,11}. D needs a third slot.</li>
                                        <li>If A=10: B&#8805;11, so B=C=11. D&#8712;{9,10}. But D=9 or D=10 works...</li>
                                    </ol>
                                </div>
                                <div class="step-text" style="margin-top: 0.75rem; color: var(--accent-orange);">
                                    Wait — let me re-check. The solver found UNSAT but my manual check suggests A=10, B=C=11, D=9 might work...
                                </div>
                                <div class="tool-call">
                                    <div class="tool-call-header">
                                        <span class="tool-badge tool-badge--csp">CSP Solver</span>
                                        <span class="tool-call-name">verify_assignment</span>
                                    </div>
                                    <div class="tool-call-body">
                                        <code class="code-block">csp.verify({'A': 10, 'B': 11, 'C': 11, 'D': 9})</code>
                                    </div>
                                    <div class="tool-call-result sat">
SAT - Valid assignment found!
  A=10 (10am), B=11 (11am), C=11 (11am), D=9 (9am)
  All 4 constraints satisfied.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="final-answer">
                    <div class="final-answer-label">
                        <span>&#10003;</span> Answer
                    </div>
                    <div class="final-answer-text">
                        <p>The schedule <strong>is possible</strong>. Here's the solution:</p>
                        <div class="schedule-grid">
                            <div class="schedule-cell schedule-header"></div>
                            <div class="schedule-cell schedule-header">9am</div>
                            <div class="schedule-cell schedule-header">10am</div>
                            <div class="schedule-cell schedule-header">11am</div>
                            <div class="schedule-cell schedule-header">12pm</div>
                            <div class="schedule-cell schedule-time">Room 1</div>
                            <div class="schedule-cell schedule-assigned">D</div>
                            <div class="schedule-cell schedule-assigned">A</div>
                            <div class="schedule-cell schedule-assigned">B, C</div>
                            <div class="schedule-cell">—</div>
                        </div>
                        <div class="constraint-list" style="margin-top: 1rem;">
                            <div class="constraint-item">
                                <div class="constraint-icon sat">&#10003;</div>
                                <span>A (10am) before B (11am)</span>
                            </div>
                            <div class="constraint-item">
                                <div class="constraint-icon sat">&#10003;</div>
                                <span>C (11am) &#8800; D (9am)</span>
                            </div>
                            <div class="constraint-item">
                                <div class="constraint-icon sat">&#10003;</div>
                                <span>B = C (both 11am)</span>
                            </div>
                            <div class="constraint-item">
                                <div class="constraint-icon sat">&#10003;</div>
                                <span>A (10am) &#8800; 11am</span>
                            </div>
                        </div>
                        <p style="margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                            <strong>Note:</strong> B and C at the same time means they're concurrent meetings (different rooms or same meeting with both groups).
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="input-area">
            <div class="input-container">
                <textarea class="input-box" placeholder="Describe scheduling constraints, resource conflicts, seating arrangements..." rows="1"></textarea>
                <div class="input-actions">
                    <button class="send-btn">Send &#8593;</button>
                </div>
            </div>
            <div class="input-hint">
                Constraint solver proves feasibility or identifies conflicts — no guessing
            </div>
        </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError: false
            });
        });

        const textarea = document.querySelector('.input-box');
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 200) + 'px';
        });
    </script>
</body>
</html>
